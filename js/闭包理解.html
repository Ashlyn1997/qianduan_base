<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>闭包</title>
</head>
<body>
<script>
    /*闭包的作用：
    * 1、使用函数内部的变量在函数执行后，依然存活在内存中(延长了局部变量的生命周期)
    * 2、让函数外部可以读写到函数内部的数据(变量/函数)
    * */
    /*闭包的生命周期：
    * 1、产生：在嵌套函数内部定义执行完时就产生了(不是在调用)
    * 2、死亡：在嵌套的内部函数成为垃圾对象时
    * */
    function fn1(){
        let a = 2 //此时闭包就已经产生了(函数提升，内部函数对象已经创建了)
        function fn2(){
            a++
            console.log(a)
        }
        return fn2
    }
    let f = fn1()
    console.log(f)
    f()//3
    f()//4
    f = null//闭包死亡(包含闭包的函数对象成为垃圾对象)
</script>
</body>
</html>